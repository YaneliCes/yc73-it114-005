<table><tr><td> <em>Assignment: </em> IT114 Chatroom Milestone4</td></tr>
<tr><td> <em>Student: </em> Yaneli Cestona (yc73)</td></tr>
<tr><td> <em>Generated: </em> 12/10/2023 8:07:35 PM</td></tr>
<tr><td> <em>Grading Link: </em> <a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT114-005-F23/it114-chatroom-milestone4/grade/yc73" target="_blank">Grading</a></td></tr></table>
<table><tr><td> <em>Instructions: </em> <p>Implement the features from Milestone3 from the proposal document:&nbsp;&nbsp;<a href="https://docs.google.com/document/d/1ONmvEvel97GTFPGfVwwQC96xSsobbSbk56145XizQG4/view">https://docs.google.com/document/d/1ONmvEvel97GTFPGfVwwQC96xSsobbSbk56145XizQG4/view</a></p>
</td></tr></table>
<table><tr><td> <em>Deliverable 1: </em> Client can export chat history of their current session (client-side) </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshot of related UI</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-09T13.46.18Screenshot%202023-12-09%20at%208.46.05%E2%80%AFAM.png.webp?alt=media&token=9ea43829-f909-48e3-948d-4b295ad466c1"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing export button in menu<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshot of exported data</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-09T16.36.54Screenshot%202023-12-09%20at%2011.30.22%E2%80%AFAM.png.webp?alt=media&token=e4e99db9-9369-4456-bad5-6cfa204cd5f5"/></td></tr>
<tr><td> <em>Caption:</em> <p>Here are a few lines of conversation in the client&#39;s chat<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-09T16.36.59Screenshot%202023-12-09%20at%2011.33.37%E2%80%AFAM.png.webp?alt=media&token=8c683284-22bd-4871-8d8f-7ee742fa9e17"/></td></tr>
<tr><td> <em>Caption:</em> <p>Here is file that was created upon exporting that chat history<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-09T16.37.07Screenshot%202023-12-09%20at%2011.34.09%E2%80%AFAM.png.webp?alt=media&token=45bf0276-5b6c-420a-8342-210a36c49fe7"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing the opened file to prove that it worked <br>(it is an html<br>file to display the formatting)<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain how you implemented this</td></tr>
<tr><td> <em>Response:</em> <p>To implement this, I first used the &quot;Menu&quot; class which extends &quot;JMenuBar&quot; and<br>is responsible for setting up the menu bar for the chatroom. Within &quot;Menu&quot;<br>I created a menu &quot;Save Chat&quot; (with JMenu), which basically serves as a<br>container to hold functionalities like menu items. This is what I did next:<br>create a menu item labeled &quot;Export&quot; (using &quot;JMenuItem&quot;) and add an action listener<br>to it which will be triggered when a user clicks on the &quot;Export&quot;<br>menu item. Inside the action listener, I added a method, &quot;controls.onExport()&quot;, to be<br>invoked. To get the method to work, it is also part of &quot;ICardControls&quot;<br>interface (&quot;void onExport()) which sets like a rule that the class that implements<br>this interface must have a method named &quot;onExport()&quot; available to use. Since the<br>&quot;ClientUI&quot; class implements the &quot;ICardControls&quot; interface, it accepts the rule, and &quot;ICardControls&quot;&nbsp;will tell<br>this class to do its job of handling &quot;onExport()&quot;, so I had to<br>create the method &quot;onExport()&quot; there (in ClientUI). Inside the &quot;onExport()&quot; method, it calls<br>&quot;chatPanel.exportHistory();&quot; and delegates the task to &quot;ChatPanel&quot;.&nbsp;<div>In &quot;ChatPanel&quot;, the method &quot;exportHistory()&quot; gets executed.<br>First, it creates an array called &quot;history&quot;, grabs all the components from the<br>container &quot;chatArea&quot; (which can contain the chat messages), and stores them in &quot;history&quot;.<br>Next, it begins a while (true) loop; the user is prompted to enter<br>a file name using a dialog box (&quot;JOptionPane.showInputDialog&quot;), if the user clicks the<br>&quot;cancel&quot; option or closed the dialog box without entering anything it shows a<br>message (&quot;JOptionPane.showMessageDialog&quot;) and breaks out of the loop (&quot;break;&quot;). To validate the file<br>name, an if-else block statement was created; it checks if the entered name<br>is not empty, does not contain just spaces, and does not start/end with<br>spaces. If it does not meet these conditions i(else) it shows a message<br>letting them know their file name is invalid (&quot;JOptionPane.showMessageDialog&quot;), and the while loop<br>allows it to prompt the user again to type in another name until<br>it is valid. If the name is valid, a &quot;FileWriter&quot; object for the<br>user&#39;s chosen file name to write to. I made a for loop that<br>iterates through each component in &quot;history&quot;, then I cast the Component type &quot;text&quot;<br>to a &quot;JEditorPane&quot;, and &quot;.getText()&quot; to actually retrieve the text content of each<br>&quot;JEditorPane&quot; component; the extracted text is written into the file using filwriter.When it<br>successfully exports the chat, it exits the loop with a &quot; break;&quot;. I<br>also added a catch if there are any exceptions that occur and it<br>shows a message to the user.</div><br></p><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 2: </em> Client's mute list will persist across sessions (server-side) </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot of how the mute list is stored</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-09T14.05.43Screenshot%202023-12-09%20at%209.05.19%E2%80%AFAM.png.webp?alt=media&token=bc8b81dc-d22d-4a15-8592-f7ae5a288009"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing client UI of who was muted (Abby muted: Bob &amp; Carl)<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-09T14.08.10Screenshot%202023-12-09%20at%209.08.04%E2%80%AFAM.png.webp?alt=media&token=1c67abad-28b8-4b8f-b569-9c64bbdd5be2"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing client&#39;s muted list stored as a txt file (Abby&#39;s muted list)<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot of the code saving/loading mute list</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T16.17.42Screenshot%202023-12-10%20at%2011.11.54%E2%80%AFAM.png.webp?alt=media&token=cf68f745-2c76-49bd-aede-a191de2185c5"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing logic that grabs and write the list to a file (saveMutedList())<br>And showing<br>logic that update the file when user in unmuted (removeMutedUsersFromFile())<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T16.18.26Screenshot%202023-12-10%20at%2011.12.07%E2%80%AFAM.png.webp?alt=media&token=c58bc295-4f06-498e-8d22-64b62d327350"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing logic that reads and applied the list (addMutedUsersFromFile())<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T16.18.36Screenshot%202023-12-10%20at%2011.13.32%E2%80%AFAM.png.webp?alt=media&token=bc7f2174-3a5f-483b-bc64-22ea967af577"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing when the method to write the file is called<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T16.21.55Screenshot%202023-12-10%20at%2011.16.31%E2%80%AFAM.png.webp?alt=media&token=8e402e38-d361-4487-baf1-7869b618d642"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing when the method to read the file is called<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain how you implemented this</td></tr>
<tr><td> <em>Response:</em> <div>Writing to the file:</div><ul><li>To implement this I added to the "MUTE" command in<br>"Room", so when a user types the command /mute it also calls the<br>method "saveMutedList", retrieves their name, and concatenates it with "MutedList.txt" which will be<br>the filename of the muted list file (client.saveMutedList(client.getClientName() + "MutedList.txt");). This method exists<br>in "ServerThread" and it receives the filename as an argument. First, it creates<br>a file writer to write the name of muted users into a file.<br>I started a for loop to iterate through each username in the pre-existing<br>"clientsMuted" list which contains the muted users. For each username in "clientsMuted", their<br>username is written followed by a newline character "\n" into the file using<br>the&nbsp; file writer.&nbsp;</li><li>If a user types the command /unmute it also calls the<br>method "removeMutedUsersFromFile" which exists in "ServerThread". I made the method take in two<br>parameters: "clientName", the name of the client (to be removed), and "filename", the<br>name of the file. The first line has to read all the lines<br>form the file and store them into a list called "lines". Then, to<br>find and remove the name, I used a "removeIf()" method on the list<br>"lines" along with a lambda expression which goes through (for) each line in<br>"lines", trims each line (of starting/ending spaces), and checks if that trimmed line<br>is equal to the "clientName". After trimming matching it removes that line from<br>the list "lines", and then writes the updated list of muted users back<br>to the same file, overwriting the previous list in the file.</li></ul><div>Reading the file:</div><div><ul><li>To<br>implement reading and applying the list, I wanted to call the method that<br>handles that from the "CONNECT" case in "processPayLoad()", so when a client connects<br>to the server it will call the "addMutedUsersFromFile()" method. In the method "addMutedUsersFromFile()",<br>a scanner is created to read the lines from the muted list file.<br>I started a while loop that loops as long as there are more<br>lines to read in the file, and to read the next lines I<br>used "scanner.nextLine()". Next, when it reads a line, it trims any starting/ending spaces,<br>and stores that line in a variable "mutedUser". The if statement checks if<br>the "mutedUser" is not an empty string and if it is NOT that<br>means it has a username. This username is then passed to the "mute()"<br>method, which adds the username to the ServerThread list of muted users.</li></ul></div><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 3: </em> Client's will receive a message when they get muted/unmuted by another user </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the related chat messages</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-09T14.26.24Screenshot%202023-12-09%20at%209.25.20%E2%80%AFAM.png.webp?alt=media&token=5b31dfae-ba57-479b-818e-c9a7ed35b4b1"/></td></tr>
<tr><td> <em>Caption:</em> <p>Show messages when clients are muted by a specific user<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-09T14.28.59Screenshot%202023-12-09%20at%209.28.55%E2%80%AFAM.png.webp?alt=media&token=8d937529-f0ab-4161-bfbf-c9823dd20e9d"/></td></tr>
<tr><td> <em>Caption:</em> <p>Show messages when clients are unmuted by a specific user<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot of the related code snippets</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T18.34.50Screenshot%202023-12-10%20at%201.34.46%E2%80%AFPM.png.webp?alt=media&token=07280c60-cebe-4725-b67c-80dfb84e8510"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing where/when the mute messages occur<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T18.35.12Screenshot%202023-12-10%20at%201.35.08%E2%80%AFPM.png.webp?alt=media&token=e6c47c93-bd9d-42b6-9ee0-e1c5967adec2"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing where/when the unmute messages occur<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T19.35.18Screenshot%202023-12-10%20at%202.35.13%E2%80%AFPM.png.webp?alt=media&token=4f3ad4d8-899f-4443-b23b-d9f6cb33150e"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing where the mute/unmute message are sent (for the muted/unmuted users)<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain how you implemented this</td></tr>
<tr><td> <em>Response:</em> <div>Mute messages:</div><ul><li>To implement messages occurring when a user is muted, I added to<br>my pre-existing "MUTE" case in "processCommands()", so when a user sends /mute now<br>it also triggers "client.sendMessage()" and then "sendPrivateMessage()".&nbsp;</li><li>To send a mute message to the<br>sender I used "client.sendMessage()", "client" refers to a specific client (a "ServerThread" instance),<br>and "sendMessage()" is a pre-existing method in "ServerThread" that handles sending a message<br>to that specific "client". To send from the server I used "Constants.DEFAULT_CLIENT_ID" so<br>that it would be a placeholder for the server rather than a specific<br>client. The message is simply just informing the sender that the mute action<br>was successful, includes the username ("userToMute") that was muted, and is colored red<br>to show a muted status.</li><li>To send a mute message to the user being<br>muted I used "sendPrivateMessage()", which is a pre-existing method used to send private<br>messages between clients. The method starts by passing "null" so that the message<br>is sent by the server rather than a specific client. It also passes<br>the "userToMute" variable (which stores the username of the muted user) because that<br>is who the message is being sent to. The message is&nbsp;simply just informing<br>the client that they were muted by another user ("client.getClientName()" which will get<br>the username of the user who initiated the mute command). Just like the<br>other mute message, this one is also red to show a muted status.</li></ul><div>Unmute<br>messages:</div><div><ul><li>To implement messages occurring when a user is unmuted, I added to my<br>pre-existing "UNMUTE" case in "processCommands()", so when a user sends /unmute now it<br>also triggers "client.sendMessage()" and then "sendPrivateMessage()".&nbsp;</li><li>To send an unmute message to the sender<br>I used "client.sendMessage()"; "client" refers to a specific client (a "ServerThread" instance), and<br>"sendMessage()" is a pre-existing method in "ServerThread" that handles sending a message to<br>that specific "client". To send from the server I used "Constants.DEFAULT_CLIENT_ID"&nbsp;so that it<br>would be a placeholder for the server rather than a specific client. The<br>message is simply just informing the sender that the unmute action was successful,<br>includes the username ("userToUnmute") that was unmuted, and is colored green to show<br>an unmuted status.<br></li><li>To send an unmute message to the user being unmuted I<br>used "sendPrivateMessage()", which is a pre-existing method used to send private messages between<br>clients. The method starts by passing "null" so that the message is sent<br>by the server rather than a specific client. It also passes the "userToUnmute"<br>variable (which stores the username of the unmuted user) because that is who<br>the message is being sent to. The message is&nbsp;simply just informing the client<br>that they were unmuted by another user ("client.getClientName()" which will get the username<br>of the user who initiated the unmute command). Just like the other unmuted<br>message, this one is also green to show an unmuted status.</li></ul><div><br></div>For a brief<br>refresher of the "sendPrivateMessage()" method: It iterates over all the clients and checks<br>if the name that the private message is being sent to matches the<br>name of the user being muted/unmuted ("user"). If it does match, then the<br>message is sent to them.</div><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 4: </em> User list should update per the status of each user </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshot for Muted users by the client should appear grayed out</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-09T14.58.01Screenshot%202023-12-09%20at%209.57.58%E2%80%AFAM.png.webp?alt=media&token=ac383820-091d-4644-845d-c1e64269ab2d"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing the updated client’s user list with muted users grayed out. (Abby muted<br>= Carl) (Bob muted = Abby &amp; Carl) (Carl muted = Bob)<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T20.16.59Screenshot%202023-12-10%20at%202.44.58%E2%80%AFPM.png.webp?alt=media&token=9b7edb92-3e74-4a36-ae4e-8239e136aa38"/></td></tr>
<tr><td> <em>Caption:</em> <p>PayloadType: payloads for MUTE, UNMUTE, &amp; MUTE_LIST<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T20.17.05Screenshot%202023-12-10%20at%202.48.39%E2%80%AFPM.png.webp?alt=media&token=668a6dfc-f727-4b6f-a0f7-f1bb608859dc"/></td></tr>
<tr><td> <em>Caption:</em> <p>Room: where the graying out process starts<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T20.17.39Screenshot%202023-12-10%20at%202.53.48%E2%80%AFPM.png.webp?alt=media&token=44238a91-4641-4692-952b-f1ec7381459b"/></td></tr>
<tr><td> <em>Caption:</em> <p>ServerThread: logic for the mute list being sent as a payload<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T20.17.47Screenshot%202023-12-10%20at%202.57.51%E2%80%AFPM.png.webp?alt=media&token=43173522-31d9-4f30-9b85-37cfc4fd2991"/></td></tr>
<tr><td> <em>Caption:</em> <p>Client: logic for the payload being received<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T20.18.10Screenshot%202023-12-10%20at%202.58.04%E2%80%AFPM.png.webp?alt=media&token=86612e23-6347-4e85-86a9-01f754c72ba7"/></td></tr>
<tr><td> <em>Caption:</em> <p>Client: logic for how the info of muted usernames are sent<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T20.18.20Screenshot%202023-12-10%20at%202.59.34%E2%80%AFPM.png.webp?alt=media&token=bef1ee62-7c29-4c97-bfe3-7aef473158a8"/></td></tr>
<tr><td> <em>Caption:</em> <p> IClientEvents: event for the (user info) method<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T20.18.25Screenshot%202023-12-10%20at%203.15.02%E2%80%AFPM.png.webp?alt=media&token=35e6f26e-2f21-4097-bb68-e2f211611d71"/></td></tr>
<tr><td> <em>Caption:</em> <p>ClientUI: where the event (user info method) is handled then passed to ChatPanel<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T20.18.37Screenshot%202023-12-10%20at%203.15.33%E2%80%AFPM.png.webp?alt=media&token=b73652c4-95c6-4cad-b39b-f1b11a7dad4b"/></td></tr>
<tr><td> <em>Caption:</em> <p>ChatPanel: where method is called and passed to UserListPanel<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-10T20.18.53Screenshot%202023-12-10%20at%203.16.24%E2%80%AFPM.png.webp?alt=media&token=43dc7125-1bc3-4531-9635-9f0c1b12d88a"/></td></tr>
<tr><td> <em>Caption:</em> <p>UserListPanel: where the actual graying out is done<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshot for Last person to send a message gets highlighted</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-09T15.59.25Screenshot%202023-12-09%20at%2010.32.44%E2%80%AFAM.png.webp?alt=media&token=c7d66943-9ba1-4831-8007-3d76dc45498e"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing client Abby highlighted after sending a message<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-09T15.59.31Screenshot%202023-12-09%20at%2010.33.55%E2%80%AFAM.png.webp?alt=media&token=b14bdbe1-57f1-4257-b898-544615826cac"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing client Bob highlighted after sending a message<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-09T15.59.36Screenshot%202023-12-09%20at%2010.35.03%E2%80%AFAM.png.webp?alt=media&token=8fd0609f-c585-4a75-801d-9f12f4666bea"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing client Carl highlighted after sending a message<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-09T16.00.20Screenshot%202023-12-09%20at%2010.37.58%E2%80%AFAM.png.webp?alt=media&token=e56559d8-16a1-45a4-9d36-2082de3d05a8"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing 2 things: <br>- The last message was from Carl, so they appear<br>highlighted for everyone BUT Abby.<br>- The client Abby muted Carl, so the user<br>list for Abby did not update (abby sent a message before carl, so<br>it remained the same).<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-11T00.24.09Screenshot%202023-12-10%20at%207.22.01%E2%80%AFPM.png.webp?alt=media&token=34fbaea0-e41f-424b-ac53-9ef37358b912"/></td></tr>
<tr><td> <em>Caption:</em> <p>Client: where the highlighting process begins<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-11T00.24.15Screenshot%202023-12-10%20at%207.22.19%E2%80%AFPM.png.webp?alt=media&token=9aa0499e-7587-4064-a2c4-f4aa445506a4"/></td></tr>
<tr><td> <em>Caption:</em> <p> IClientEvents: event for the (highlighting) method<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-11T00.24.39Screenshot%202023-12-10%20at%207.22.33%E2%80%AFPM.png.webp?alt=media&token=4b3addfc-6194-4c28-b46e-a27ad51d00e6"/></td></tr>
<tr><td> <em>Caption:</em> <p>ClientUI: where the event (highlighting method) is handled then passed to ChatPanel<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-11T00.24.47Screenshot%202023-12-10%20at%207.22.56%E2%80%AFPM.png.webp?alt=media&token=754b47bc-812a-42de-ab2c-0b41f079fa00"/></td></tr>
<tr><td> <em>Caption:</em> <p>ChatPanel: where method is called and passed to UserListPanel<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fyc73%2F2023-12-11T00.24.56Screenshot%202023-12-10%20at%207.23.15%E2%80%AFPM.png.webp?alt=media&token=c1176f49-8aa0-4aae-85df-077ded0ff44a"/></td></tr>
<tr><td> <em>Caption:</em> <p>UserListPanel: where the actual highlighting is done<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain how you implemented this</td></tr>
<tr><td> <em>Response:</em> <p>Graying out:<div><div><ul><li>To implement graying out, I added to my pre-existing &quot;MUTE&quot; case in<br>&quot;processCommands()&quot; (in Room class), so when a user sends &quot;/mute&quot; now it also<br>triggers&nbsp;&quot;client.sendMuteList()&quot; and then &quot;client.sendMuteStatus()&quot; after (&quot;client&quot; refers to a ServerThread instance).&nbsp;</li><li>For &quot;client.sendMuteList()&quot;, this<br>method is handled in the &quot;ServerThread&quot; class, where an instance of Payload is<br>created, set to payload type &quot;MUTE_LIST&quot; (to indicate that payload will contain info.<br>related to a list of muted users), and a message is set into<br>the payload. The message is &quot;String.join(&quot;,&quot;, clientsMuted)&quot; which basically grabs the muted usernames<br>in the &quot;clientsMuted&quot; list, and combines them into a single string, each separated<br>by a comma. I used payloads so I can send this data between<br>the server and clients. Since a payload was sent, it gets received and<br>processed by the &quot;processPayload()&quot; method in the &quot;Client&quot; class, so I had to<br>create a case &quot;MUTE_LIST&quot; so it can switch to. (In the Client class<br>I made a muted list for the client side called &quot;clientMutedList&quot;.) In the<br>case &quot;MUTE_LIST&quot;, before adding to a &quot;clientMutedList&quot;, I have to clear it to<br>make sure the list is always updated and old names don&#39;t remain on<br>it. Next, the case retrieves the message from the payload, splits it (at<br>every comma),&nbsp; and separates it into an array &quot;mutedNamed&quot;. I created a for<br>loop to iterate through the &quot;mutedNames&quot; array, and for each &quot;user&quot; in the<br>array, it adds them to the new &quot;clientMutedList&quot; list, and then breaks out.&nbsp;</li><li>Then,<br>it goes back to the &quot;MUTE&quot; case in the &quot;Room&quot; class and proceeds<br>to the next method &quot;client.sendMuteStatus()&quot;. For &quot;client.sendMuteStatus&quot;,&nbsp;this method is handled in the &quot;ServerThread&quot;<br>class, where an instance of Payload is created, set to payload type &quot;MUTE&quot;<br>(to indicate that payload will contain info. related to a list of muted<br>users), and then the payload gets sent (there is no message this time<br>since it&#39;s not needed). I used payloads so I can send this data<br>between the server and clients.&nbsp;</li><li>Since a payload was sent, it gets received and<br>processed by the &quot;processPayload()&quot; method in the &quot;Client&quot; class, so I had to<br>create a case &quot;MUTE&quot; so it can switch to. In the case &quot;MUTE&quot;,<br>it calls a method &quot;onMutedStatus()&quot; and passes the string &quot;mute&quot;. The &quot;onMutedStatus()&quot;&nbsp;method is<br>in the same &quot;Client&quot; class,&nbsp; it starts by retrieving user&#39;s IDs and names<br>(entries) from the &quot;userList&quot; map and captures it in &quot;userSet&quot;. I made a<br>for loop to iterate through that &quot;userSet&quot; and if the passed string (from<br>earlier) is &quot;mute&quot; and the current user&#39;s name is found in the new<br>muted list &quot;clientMutedList&quot; (from earlier) then it proceeds and triggers an event. (Same<br>process if a client sends an &quot;/unmute&quot; command but it triggers the &quot;else<br>if&quot; condition, but it would send &quot;unmute&quot; as the mute status.)&nbsp;</li><li>The &quot;onMutedUserInfo()&quot; method<br>triggers an event for that user through &quot;IClientEvents&quot; and passes the user&#39;s (mute)<br>status and ID. Since the &quot;ClientUI&quot; class implements &quot;IClientEvents&quot;, the method has to<br>be created and invoked in &quot;ClientUI&quot;. The &quot;ClientUI&quot; method relays the muted user&#39;s<br>status and ID to the &quot;ChatPanel&quot; class with &quot;chatPanel.onMutedSendInfo().&quot; This invokes the method<br>in &quot;ChatPanel&quot; and triggers another method &quot;userListPanel.onMutedUserList().&quot; which relays the muted user&#39;s status<br>and ID to the &quot;UserListPanel&quot;.&nbsp;</li><li>In &quot;UserListPanel&quot;, the &quot;onMutedUserList()&quot; method first grabs an array<br>(&quot;cs&quot;) of components from the &quot;userListArea&quot; (which has the users listed in the<br>chat UI). I put a for loop to iterate through each component and<br>check if the user&#39;s (&quot;c&quot;) mute status is &quot;mute&quot; and if the user&#39;s<br>ID matches. If it matches then their (&quot;c&quot;) color gets set to gray.<br>(Same process if the status is &quot;unmute&quot; but it triggers the &quot;else if&quot;<br>condition and the user&#39;s color is set to black.)</li></ul><div>Highlighting:&nbsp;</div></div><div><ul><li>When a client sends a<br>message a payload is sent and it gets received &amp; processed by the<br>&quot;processPayload()&quot; method in the &quot;Client&quot; class. I added to the pre-existing switch case<br>&quot;MESSAGE&quot;, so now it triggers an event &quot;e.messageHighlight(p.getClientId())&quot; through &quot;IClientEvents&quot; which passes the<br>client&#39;s ID. Since the &quot;ClientUI&quot; class implements &quot;IClientEvents&quot;, the method has to be<br>created and invoked in &quot;ClientUI&quot;. The &quot;ClientUI&quot; method &quot;messageHighlight()&quot; relays the client&#39;s ID<br>to the &quot;ChatPanel&quot;. This invokes the method &quot;messageHighlight&quot; in &quot;ChatPanel&quot; which relays the<br>client&#39;s ID again to &quot;UserListPanel&quot;. in &quot;UserListPanel&quot;, the method &quot;messageHighlight&quot; first grabs an<br>array (&quot;cs&quot;) of components from the &quot;userListArea&quot; (which has the users listed in<br>the chat UI). I put a for loop to iterate through each component<br>and check if the client&#39;s (&quot;c&quot;) user&#39;s ID matches. If it matches then<br>their (&quot;c&quot;) color gets set to orange to appear highlighted. For the clients<br>whose ID does not match, their color gets set to black.&nbsp;</li></ul><div>Github Pull Request<br>Link:</div></div></div><div><a href="https://github.com/yaneliii/yc73-it114-005/pull/8">Milestone4 by yaneliii · Pull Request #8 · yaneliii/yc73-it114-005 (github.com)</a></div><br></p><br></td></tr>
</table></td></tr>
<table><tr><td><em>Grading Link: </em><a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT114-005-F23/it114-chatroom-milestone4/grade/yc73" target="_blank">Grading</a></td></tr></table>